--- xlxd.git/Makefile	1970-01-01 08:00:00.000000000 +0800
+++ xlxd-bg5hhp.git/Makefile	2018-03-05 11:34:31.000000000 +0800
@@ -0,0 +1,8 @@
+xlxd:
+	make -C src
+
+all:	xlxd
+
+clean:
+	make -C src clean
+
--- xlxd.git/src/makefile	2018-03-05 11:36:38.000000000 +0800
+++ xlxd-bg5hhp.git/src/makefile	2018-03-05 12:14:25.000000000 +0800
@@ -1,30 +1,22 @@
-CC=g++
-CFLAGS=-c -std=c++11 -pthread
-LDFLAGS=-std=c++11 -pthread
-SOURCES=$(wildcard *.cpp)
-OBJECTS=$(SOURCES:.cpp=.o)
+CC	= gcc
+CXX	= g++
+CFLAGS	= -g -O3 -Wall -c -std=c++11 -pthread
+LDFLAGS	= -g -O3 -Wall -std=c++11
+LIBS	= -lpthread
+LDFLAGS	= -g
+
+SOURCES =$(wildcard *.cpp)
+OBJECTS	=$(SOURCES:.cpp=.o)
 EXECUTABLE=xlxd

 all: $(SOURCES) $(EXECUTABLE)

 $(EXECUTABLE): $(OBJECTS)
-	$(CC) $(LDFLAGS) $(OBJECTS) -o $@
+	$(CXX) $(LDLAGS) $(LIBS) $(OBJECTS) -o $@

 .cpp.o:
-	$(CC) $(CFLAGS) $< -o $@
+	$(CXX) -c $(CFLAGS) $< -o $@

 clean:
 	$(RM) $(EXECUTABLE) *.o

-install:
-	mkdir -p /xlxd
-	cp -f $(EXECUTABLE) /xlxd/
-	[ -f /xlxd/xlxd.blacklist ] && \
-		cp ../config/xlxd.blacklist /xlxd/xlxd.blacklist.sample || \
-		cp ../config/xlxd.blacklist /xlxd/xlxd.blacklist
-	[ -f /xlxd/xlxd.whitelist ] && \
-		cp ../config/xlxd.whitelist /xlxd/xlxd.whitelist.sample || \
-		cp ../config/xlxd.whitelist /xlxd/xlxd.whitelist
-	[ -f /xlxd/xlxd.interlink ] && \
-		cp ../config/xlxd.interlink /xlxd/xlxd.interlink.sample || \
-		cp ../config/xlxd.interlink /xlxd/xlxd.interlink

